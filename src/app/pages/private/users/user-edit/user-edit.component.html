<form 
    class="form form-register"
    [formGroup]="formData"
    (ngSubmit)="onSubmit()"
>
    <h1 class="form-titulo">Editar usuario</h1>

    <div> {{ this.formData.get('username')?.errors | json }} </div>

    <div class="form-container">

    <div class="form-content form-body">

        <!-- Nombre -->
        <div class="field">
            <!-- <label for="name">Nombre completo*</label> -->
            <input class="form-input" type="text" formControlName="name" id="name" placeholder="Nombre completo" />
        </div>
        <div class="error">
            @if (this.formData.get('name')?.invalid && (this.formData.get('name')?.dirty || this.formData.get('name')?.touched) ) {
                @if (this.formData.get('name')?.errors?.['required']) {
                    <span>El nombre es obligatorio</span>
                }
            }
        </div>

        <!-- Edad -->
        <div class="field input-grupo">
            <!-- <label for="age">Age</label> -->
            <input type="number" formControlName="age" id="age" placeholder="Edad" class="form-input"/>
        </div>

        <!-- Direccion -->
        <div class="field input-grupo">
            <!-- <label for="addres">Addres</label> -->
            <input class="form-input" type="text" formControlName="addres" id="addres" placeholder="Dirección de residencial" />
        </div>

        <!-- Celular -->
        <div class="field">
            <!-- <label for="cellular">Cellular*</label> -->
            <input class="form-input" type="number" formControlName="cellular" id="cellular" placeholder="Numero de celular"/>
        </div>
        <div class="error">
            @if (this.formData.get('cellular')?.invalid && (this.formData.get('cellular')?.dirty || this.formData.get('cellular')?.touched) ) {
                @if (this.formData.get('cellular')?.errors?.['required']) {
                    <span>El numero celular es obligatorio</span>
                }
                @if (this.formData.get('cellular')?.errors?.['minlength']) {
                    <span>La longitud minima de la contraseña es 10 caracteristicas</span>
                }
                @if (this.formData.get('password')?.errors?.['maxlength']) {
                    <span>La longitud máxima de la contraseña es 10 caracteristicas</span>                    
                }
            }
        </div>

        <!-- Rol -->
        <div class="field input-grupo">
            <label for="role" class="titulo-input">Rol</label>
            <!-- <input type="text" formControlName="role" id="role" placeholder="Ej: admin" /> -->
             <select formControlName="role" id="role" class="form-input">
                <option value="">Selected...</option>
                @for (role of roles; track $index) {
                    <option [value]="role">{{role}}</option>
                }
             </select>
        </div>

        <!-- Creear usuario -->
        <div class="field input-grupo">
            <!-- <label for="username">Username*</label> -->
            <input class="form-input" type="text" formControlName="username" id="username" placeholder="Crear correo electronico" />
        </div>
        <div class="error">
            @if (this.formData.get('username')?.invalid && (this.formData.get('username')?.dirty || this.formData.get ('username')?.touched) ) {
                @if (this.formData.get('username')?.errors?.['required']) {
                    <span>El correo es obligatorio</span>
                }
            }
        </div>

        <!-- Contraseña -->
        <div class="field input-grupo">
            <!-- <label for="password">Password*</label> -->
            <input class="form-input" type="password" formControlName="password" id="password" placeholder="Crear contraseña"/>
        </div>
        <div class="error">
            @if (this.formData.get('password')?.invalid && (this.formData.get('password')?.dirty || this.formData.get('password')?.touched) ) {
                @if (this.formData.get('password')?.errors?.['required'] ){
                    <span>La contraseña es obligatoria</span>
                }
                @if (this.formData.get('password')?.errors?.['minlength']) {
                    <span>La longitud minima de la contraseña es 6 caracteristicas</span>
                }
                @if (this.formData.get('password')?.errors?.['maxlength']) {
                    <span>La longitud máxima de la contraseña es 12 caracteristicas</span>                    
                }
            }
        </div>
        <div class="field">
            <button class="submit" type="submit" [disabled]="formData.invalid">
                <span class="btn-texto">Registrar</span>
            </button>
            
            <div class="form-footer">
                <a class="iniciar-sesion" href="#"> ¿Ya tienes una cuenta? <span>Iniciar sesión</span>
                </a>
              </div>
        </div>
    </div>
</div>
</form>